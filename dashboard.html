<script>
  const id = 'locale123';

  async function loadStats() {
    const res = await fetch(`/api/track?id=${id}`);
    const data = await res.json();

    document.getElementById('count').innerText = data.count || 0;

    const countriesList = document.getElementById('countries');
    countriesList.innerHTML = '';
    for (const [c, count] of Object.entries(data.countries || {})) {
      const li = document.createElement('li');
      li.textContent = `${c}: ${count}`;
      countriesList.appendChild(li);
    }
  }

  loadStats();
</script>
